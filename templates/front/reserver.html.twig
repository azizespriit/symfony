{# {% extends 'base.html.twig' %} #}

{% block title %}Réservation{% endblock %}

{% block body %}

<!DOCTYPE html>
<html lang="en">

<head>
  <title>Stamina &mdash; Free Website Template by Free-Template.co</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="author" content="Free-Template.co" />

  <link rel="shortcut icon" href="ftco-32x32.png">

  <link href="https://fonts.googleapis.com/css?family=Muli:300,400,700,900" rel="stylesheet">
  <link rel="stylesheet" href="fonts/icomoon/style.css">

  <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css')}}">
  <link rel="stylesheet" href="{{ asset('assets/css/jquery-ui.css')}}">
  <link rel="stylesheet" href="{{ asset('assets/css/owl.carousel.min.css')}}">
  <link rel="stylesheet" href="{{ asset('assets/css/owl.theme.default.min.css')}}">
  <link rel="stylesheet" href="{{ asset('assets/css/owl.theme.default.min.css')}}">

  <link rel="stylesheet" href="{{ asset('assets/css/jquery.fancybox.min.css')}}">

  <link rel="stylesheet" href="{{ asset('assets/css/bootstrap-datepicker.css')}}">

  <link rel="stylesheet" href="{{ asset('assets/fonts/flaticon/font/flaticon.css')}}">

  <link rel="stylesheet" href="{{ asset('assets/css/aos.css')}}">
  <link href="{{ asset('assets/css/jquery.mb.YTPlayer.min.css')}}" media="all" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="{{ asset('assets/css/style.css')}}">

  <!-- Ajouter les styles et scripts Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">

  <div class="site-wrap">

    <header class="site-navbar py-4 js-sticky-header site-navbar-target" role="banner">

      <div class="container-fluid">
        <div class="d-flex align-items-center">
          <div class="site-logo"><a href="index.html">Sportify<span>.</span> </a></div>
          <div class="ml-auto">
            <nav class="site-navigation position-relative text-right" role="navigation">
              <ul class="site-menu main-menu js-clone-nav mr-auto d-none d-lg-block">
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="" class="nav-link">Compétitions</a></li>
                <li><a href="/" class="nav-link">Réservations</a></li>
                <li><a href="/" class="nav-link">Schedule</a></li>
                <li><a href="/" class="nav-link">Trainer</a></li>
                <li><a href="/" class="nav-link">Services</a></li>
                <li><a href="/" class="nav-link">Contact</a></li>
              </ul>
            </nav>
            <a href="#" class="d-inline-block d-lg-none site-menu-toggle js-menu-toggle float-right"><span class="icon-menu h3"></span></a>
          </div>
        </div>
      </div>

    </header>

    <div class="bgimg" style="background-image: url('{{ asset('assets/images/bg_2.jpg')}}');" data-stellar-background-ratio="0.5">
    
      <div class="container">
        <div class="row align-items-center justify-content-center text-center">
          <div class="col-md-7">
            <h2 class="">Class Single Post</h2>
            <p class="lead mx-auto desc mb-5">A new free template for fitness website template created with love by the
              fine folks
              at <a href="https://free-template.co" target="_blank">Free-Template.co</a></p>
          </div>
        </div>
      </div>
    
    </div>

    <div class="site-section">
      <div class="container">
      
        <div class="row mb-5">

    

    <form action="{{ path('app_reserver_competition', {'id': competition.idC}) }}" method="POST">
        <h1>Réservation pour {{ competition.nom }}</h1>

        <div class="form-group">
            <label for="nomP">Nom</label>
            <input type="text" id="nomP" name="nomP" class="form-control" value="{{ app.request.get('nomP') }}">
            {% if fieldErrors.nomP is defined %}
                {% for msg in fieldErrors.nomP %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="prenomP">Prénom</label>
            <input type="text" id="prenomP" name="prenomP" class="form-control" value="{{ app.request.get('prenomP') }}">
            {% if fieldErrors.prenomP is defined %}
                {% for msg in fieldErrors.prenomP %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ app.request.get('email') }}">
            {% if fieldErrors.email is defined %}
                {% for msg in fieldErrors.email %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="num">Numéro</label>
            <input type="text" id="num" name="num" class="form-control" value="{{ app.request.get('num') }}">
            {% if fieldErrors.num is defined %}
                {% for msg in fieldErrors.num %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="dateR">Date de réservation</label>
            <input type="date" id="dateR" name="dateR" class="form-control" value="{{ app.request.get('dateR') }}">
            {% if fieldErrors.dateR is defined %}
                {% for msg in fieldErrors.dateR %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            <label for="modeP">Mode de paiement</label>
            <select id="modeP" name="modeP" class="form-control">
                <option value="">Sélectionnez un mode de paiement</option>
                <option value="En ligne" {% if app.request.get('modeP') == 'En ligne' %}selected{% endif %}>En ligne</option>
                <option value="Carte" {% if app.request.get('modeP') == 'Carte' %}selected{% endif %}>Carte</option>
                <option value="Espèce" {% if app.request.get('modeP') == 'Espèce' %}selected{% endif %}>Espèce</option>
            </select>
            {% if fieldErrors.modeP is defined %}
                {% for msg in fieldErrors.modeP %}
                    <div class="text-danger">{{ msg }}</div>
                {% endfor %}
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary mt-3">Réserver</button>
    </form>

    </div>
</div>

<!-- Affichage de la carte si les coordonnées existent -->
<div id="map" style="height: 500px;"></div>

<script>
    {% if latitude and longitude %}
        var map = L.map('map').setView([{{ latitude }}, {{ longitude }}], 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var competitionLocation = [{{ latitude }}, {{ longitude }}];
        L.marker(competitionLocation).addTo(map)
            .bindPopup("{{ competition.nom }}")
            .openPopup();
    {% else %}
        alert("Impossible de récupérer les coordonnées pour cette compétition.");
    {% endif %}
</script>

<footer class="footer-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h3 class="text-dark">About Stamina</h3>
        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
      </div>

      <div class="col-md-3 ml-auto">
        <h3 class="text-dark">Links</h3>
        <ul class="list-unstyled footer-links">
          <li><a href="/">Home</a></li>
          <li><a href="/">Competition</a></li>
          <li><a href="/">Reservation</a></li>
          <li><a href="#">Schedule</a></li>
          <li><a href="#">Trainer</a></li>
        </ul>
      </div>

      <div class="col-md-4">
        <h3 class="text-dark">Subscribe</h3>
        <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
        <form action="#">
          <div class="d-flex mb-5">
            <input type="text" class="form-control rounded-0" placeholder="Email">
            <input type="submit" class="btn btn-primary rounded-0" value="Subscribe">
          </div>
        </form>
      </div>

    </div>

    <div class="row pt-5 mt-5 text-center">
      <div class="col-md-12">
        <div class=" pt-5">
          <p class="copyright"><small>&copy;
              <script>document.write(new Date().getFullYear());</script> Stamina. All Rights Reserved. Design by
              <a href="https://free-template.co" target="_blank">Free-Template.co</a></small></p>
        </div>
      </div>
    </div>
  </div>
</footer>

</div>
<!-- .site-wrap -->

<script src="{{ asset('assets/js/jquery-3.3.1.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery-migrate-3.0.1.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery-ui.js')}}"></script>
<script src="{{ asset('assets/js/popper.min.js')}}"></script>
<script src="{{ asset('assets/js/bootstrap.min.js')}}"></script>
<script src="{{ asset('assets/js/owl.carousel.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery.stellar.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery.countdown.min.js')}}"></script>
<script src="{{ asset('assets/js/bootstrap-datepicker.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery.easing.1.3.js')}}"></script>
<script src="{{ asset('assets/js/aos.js')}}"></script>
<script src="{{ asset('assets/js/jquery.fancybox.min.js')}}"></script>
<script src="{{ asset('assets/js/jquery.mb.YTPlayer.min.js')}}"></script>
<script src="{{ asset('assets/js/main.js')}}"></script>

</body>
{% endblock %}

